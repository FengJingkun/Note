### ASCII编码

计算机内部，所有信息都是由0和1的二进制组成；其中，一个字节byte共有8个二进制位，即能表示2^8=256种状态。

早期，美国制定了一套字符编码方案，用来对英语字符和二进制位之间的映射关系做统一规定，即ASCII码。

ASCII码一共规定了128个字符的编码，这128个符号只占用一个字节来进行存储。其中，字节的后7位表示编码，最前面的一位统一规定为0.



### 非ASCII编码

对英语而言，128个符号编码就足够了。但是世界上存在多种语言，不同国家对应不同字母，因此仅靠128个符号是远远不够的，比如汉字多达10万个，这就必须使用多个字节表达一个符号。（中文编码的常见方式是GB2312，使用两个字节表示一个汉字，最多可表示65536个符号， **但GB类的编码与Unicode无任何关系！**）



### Unicode

Unicode是一种所有符号的编码集合，即将世界上所有符号都纳入其中，每个符号都有唯一的编码与其对应。

**值得注意的是，Unicode只是一个符号集合，它只规定了每个符号的二进制编码形式，却没有规定一个符号具体该如何存储。**



### UTF-8

**UTF-8是Unicode的一种实现方式。** 它采用变长的方式存储每个符号。其中，每个符号占1~4个字节，根据不同的符号来变化字节长度。具体规则如下：

1. 对于单字节的符号，字节的首位设置为0，后面7位则为这个符号的Unicode码。特别地，对于英文字符，utf-8编码和ASCII编码是相同的；

2. 对于多字节的符号，假设所占字节为n，那么第一个字节的前n位均为1，第n+1位为0，后面字节的前两位均设置为10。对于剩下的二进制位，从该符号的Unicode码的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0 。

   > ```
   > UTF-8编码方式
   > 0xxxxxxx                              1字节
   > 110xxxxx 10xxxxxx                     2字节
   > 1110xxxx 10xxxxxx 10xxxxxx            3字节
   > 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx   4字节
   > ```



### 大端小端

计算机硬件有两种存储二进制数据的方式：即大端字节序和小端字节序。

> 数值0x2211使用两个字节进行存储，它的高位字节是0x22，低位字节是0x11

- **大端字节序：**高位字节在前，低位字节在后，这也是人类读取数据的方法
- **小端字节序：**低位字节在前，高位字节在后

同理，**0x1234567**的大端字节序和小端字节序如下图：

![](D:\LearnNote\Note\images\big_little_endian.jpg)



**为什么要区分这两种方式？**

在进行数值运算时，计算都是从低位开始的，计算机电路也都是先处理低位字节。使用小端存储时，从**内存低位**读取到的数据即为**数值的低位**，因此可以直接拿来做运算；

符号位往往是数值的高位，使用大端存储时，从**内存低位**读取到的数据为**数值的高位**，判断正负时可直接进行判断。





### Reference

1. http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html
2. http://www.ruanyifeng.com/blog/2016/11/byte-order.html
